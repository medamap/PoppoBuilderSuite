# コメントコンテキスト拡張要求定義

## 概要
現在のコメント処理機能において、コンテキスト構築の改善と明確化を行う。

## 現状の確認
現在の実装（`src/minimal-poppo.js`の`buildContext`関数）では：
- ✅ Issue本文（description）はコンテキストに含まれている
- ✅ 過去のコメント履歴もコンテキストに含まれている
- ✅ 会話履歴として構造化されている

## 改善要求

### REQ-001: コンテキスト構築の明確化
- 現在の実装で既に対応済みだが、ドキュメントで明確化する
- コメント処理時に含まれる情報：
  - Issue番号とタイトル
  - Issue本文（description）
  - すべての過去コメント履歴
  - 作成者とPoppoBuilderの会話として構造化

### REQ-002: コンテキストサイズの管理
- 長い会話履歴による問題を防ぐ
- 最大コメント数の制限（config.jsonで設定済み: maxCommentCount）
- 必要に応じて古いコメントの要約機能を追加

### REQ-003: メタデータの追加
- 各コメントの作成日時
- コメント作成者の情報
- ラベルの変更履歴

## 実装の影響範囲
- `src/minimal-poppo.js`: buildContext関数の拡張（メタデータ追加）
- ドキュメントの更新のみで、基本機能は既に実装済み

## 優先度
中（既に基本機能は動作しているため）