# сѓесЃЕсЃ╝сЃЈсЃ│сЃЅсЃфсЃ│сѓ░сѓгсѓцсЃЅ

PoppoBuilder SuiteсЂ«сѓесЃЕсЃ╝тЄдуљєсЂесЃфсѓФсЃљсЃфсЃ╝ТЕЪУЃйсЂ«т«їтЁесѓгсѓцсЃЅсЂДсЂЎсђѓсѓесЃЕсЃ╝сЂ«ТцютЄ║сђЂтѕєТъљсђЂУЄфтІЋС┐«тЙЕсЂ«Тќ╣Т│ЋсѓњУЕ│сЂЌсЂЈУфгТўјсЂЌсЂЙсЂЎсђѓ

## ­Ъџе сѓесЃЕсЃ╝ТцютЄ║сѓисѓ╣сЃєсЃа

### 1. УЄфтІЋсѓесЃЕсЃ╝ТцютЄ║

PoppoBuilderсЂ»С╗ЦСИІсЂ«сѓесЃЕсЃ╝сѓњУЄфтІЋуџёсЂФТцютЄ║сЂЌсЂЙсЂЎ№╝џ

- **т«ЪУАїТЎѓсѓесЃЕсЃ╝**: JavaScriptСЙІтцќсђЂТюфтЄдуљєсЂ«PromiseТІњтљд
- **сѓ┐сѓцсЃасѓбсѓдсЃѕ**: УеГт«џТЎѓжќЊсѓњУХЁжЂјсЂЌсЂЪсѓ┐сѓ╣сѓ»
- **APIсѓесЃЕсЃ╝**: GitHub/Claude APIсЂ«сѓесЃЕсЃ╝сЃгсѓ╣сЃЮсЃ│сѓ╣
- **сѓисѓ╣сЃєсЃасѓесЃЕсЃ╝**: сЃАсЃбсЃфСИЇУХ│сђЂсЃЄсѓБсѓ╣сѓ»т«╣жЄЈСИЇУХ│
- **сЃЌсЃГсѓ╗сѓ╣сѓесЃЕсЃ╝**: тГљсЃЌсЃГсѓ╗сѓ╣сЂ«уЋ░тИИухѓС║є

### 2. сѓесЃЕсЃ╝сЃгсЃЎсЃФсЂ«тѕєжАъ

```javascript
// config/config.json
{
  "errorHandling": {
    "levels": {
      "critical": {
        "action": "immediate",
        "notification": true,
        "autoRestart": true
      },
      "error": {
        "action": "retry",
        "maxRetries": 3,
        "notification": false
      },
      "warning": {
        "action": "log",
        "notification": false
      }
    }
  }
}
```

## ­ЪћЇ сѓесЃЕсЃ╝сЂ«уб║УфЇТќ╣Т│Ћ

### 1. сЃфсѓбсЃФсѓ┐сѓцсЃасѓесЃЕсЃ╝уЏБУдќ

```bash
# сѓесЃЕсЃ╝сЃГсѓ░сЂ«сЃфсѓбсЃФсѓ┐сѓцсЃауЏБУдќ
tail -f logs/poppo-$(date +%Y-%m-%d).log | grep -E "(ERROR|CRITICAL)"

# CCLAсѓесЃ╝сѓИсѓДсЃ│сЃѕсЂ«сѓесЃЕсЃ╝тЈјжЏєуіХТ│Ђ
tail -f logs/ccla-$(date +%Y-%m-%d).log
```

### 2. сЃђсЃЃсѓисЃЦсЃюсЃ╝сЃЅсЂДсЂ«сѓесЃЕсЃ╝уб║УфЇ

```bash
# сЃђсЃЃсѓисЃЦсЃюсЃ╝сЃЅУхитІЋ
npm run dashboard

# сЃќсЃЕсѓдсѓХсЂДуб║УфЇ
# http://localhost:3001
# сђїсѓесЃЕсЃ╝тѕєТъљсђЇсѓ┐сЃќсЂДУЕ│у┤░сѓњуб║УфЇ
```

### 3. сѓесЃЕсЃ╝сЃгсЃЮсЃ╝сЃѕсЂ«ућЪТѕљ

```bash
# ТЌЦТгАсѓесЃЕсЃ╝сЃгсЃЮсЃ╝сЃѕ
npm run analytics:report errors --period daily

# сѓесЃЕсЃ╝ух▒УеѕсЂ«уб║УфЇ
npm run analytics:stats errors

# уЅ╣т«џсЂ«сѓесЃЕсЃ╝сѓ┐сѓцсЃЌсѓњТцюу┤б
grep -r "TypeError" logs/ | wc -l
```

## ­ЪЏА№ИЈ сѓесЃЕсЃ╝сЃЈсЃ│сЃЅсЃфсЃ│сѓ░ТѕдуЋЦ

### 1. try-catchсЃќсЃГсЃЃсѓ»сЂ«жЂЕтѕЄсЂфСй┐уће

```javascript
// УЅ»сЂёСЙІ: УЕ│у┤░сЂфсѓесЃЕсЃ╝ТЃЁта▒сѓњС┐ЮТїЂ
async function processIssue(issue) {
  const context = { issueNumber: issue.number, repo: issue.repository };
  
  try {
    await validateIssue(issue);
    const result = await executeTask(issue);
    return result;
  } catch (error) {
    // сѓесЃЕсЃ╝сѓ│сЃ│сЃєсѓГсѓ╣сЃѕсѓњУ┐йтіа
    error.context = context;
    error.timestamp = new Date().toISOString();
    
    // сѓесЃЕсЃ╝сѓ┐сѓцсЃЌсЂФт┐юсЂўсЂЪтЄдуљє
    if (error.code === 'RATE_LIMIT_EXCEEDED') {
      return handleRateLimit(error);
    } else if (error.code === 'TIMEOUT') {
      return handleTimeout(error);
    } else {
      throw error; // СИіСйЇсЂДтЄдуљє
    }
  }
}
```

### 2. жЮътљїТюЪсѓесЃЕсЃ╝сЂ«жЂЕтѕЄсЂфтЄдуљє

```javascript
// PromiseТІњтљдсЂ«тЄдуљє
process.on('unhandledRejection', (reason, promise) => {
  logger.error('Unhandled Rejection:', {
    reason,
    promise,
    stack: reason?.stack
  });
  
  // сѓесЃЕсЃ╝тѕєТъљсЂФжђЂС┐А
  errorAnalyzer.analyze(reason);
});

// жЮътљїТюЪсѓесЃЕсЃ╝сЂ«сЃЕсЃЃсЃћсЃ│сѓ░
async function safeExecute(fn, context) {
  try {
    return await fn();
  } catch (error) {
    error.context = context;
    await errorHandler.handle(error);
    throw error;
  }
}
```

### 3. сѓесЃЕсЃ╝сЂ«С╝ЮТњГсЂежЏєу┤ё

```javascript
// сѓесЃЕсЃ╝жЏєу┤ёсѓ»сЃЕсѓ╣
class ErrorAggregator {
  constructor() {
    this.errors = [];
    this.criticalCount = 0;
  }
  
  add(error, severity = 'error') {
    this.errors.push({
      error,
      severity,
      timestamp: Date.now(),
      context: error.context
    });
    
    if (severity === 'critical') {
      this.criticalCount++;
      this.notifyImmediate(error);
    }
  }
  
  async flush() {
    if (this.errors.length === 0) return;
    
    const report = this.generateReport();
    await this.sendReport(report);
    this.errors = [];
  }
}
```

## ­ЪћД УЄфтІЋсЃфсѓФсЃљсЃфсЃ╝ТЕЪУЃй

### 1. сЃфсЃѕсЃЕсѓцсЃАсѓФсЃІсѓ║сЃа

```javascript
// config/config.json
{
  "retry": {
    "enabled": true,
    "strategies": {
      "exponential": {
        "initialDelay": 1000,
        "maxDelay": 60000,
        "factor": 2,
        "maxAttempts": 5
      },
      "linear": {
        "delay": 5000,
        "maxAttempts": 3
      }
    },
    "retryableErrors": [
      "ECONNRESET",
      "ETIMEDOUT",
      "RATE_LIMIT_EXCEEDED"
    ]
  }
}
```

### 2. сѓхсЃ╝сѓГсЃЃсЃѕсЃќсЃгсЃ╝сѓФсЃ╝

```javascript
// сѓхсЃ╝сѓГсЃЃсЃѕсЃќсЃгсЃ╝сѓФсЃ╝сЂ«т«ЪУБЁСЙІ
class CircuitBreaker {
  constructor(options) {
    this.failureThreshold = options.failureThreshold || 5;
    this.resetTimeout = options.resetTimeout || 60000;
    this.state = 'CLOSED'; // CLOSED, OPEN, HALF_OPEN
    this.failures = 0;
  }
  
  async execute(fn) {
    if (this.state === 'OPEN') {
      throw new Error('Circuit breaker is OPEN');
    }
    
    try {
      const result = await fn();
      this.onSuccess();
      return result;
    } catch (error) {
      this.onFailure();
      throw error;
    }
  }
  
  onFailure() {
    this.failures++;
    if (this.failures >= this.failureThreshold) {
      this.state = 'OPEN';
      setTimeout(() => {
        this.state = 'HALF_OPEN';
      }, this.resetTimeout);
    }
  }
  
  onSuccess() {
    this.failures = 0;
    this.state = 'CLOSED';
  }
}
```

### 3. УЄфтІЋС┐«тЙЕсѓбсѓ»сѓисЃДсЃ│

```javascript
// УЄфтІЋС┐«тЙЕсЂ«УеГт«џ
{
  "autoRecovery": {
    "actions": {
      "restartProcess": {
        "enabled": true,
        "conditions": ["FATAL_ERROR", "MEMORY_LEAK"],
        "delay": 5000
      },
      "clearCache": {
        "enabled": true,
        "conditions": ["CACHE_CORRUPTED", "MEMORY_PRESSURE"]
      },
      "reconnectAPI": {
        "enabled": true,
        "conditions": ["CONNECTION_LOST", "AUTH_EXPIRED"]
      },
      "rollbackConfig": {
        "enabled": true,
        "conditions": ["CONFIG_ERROR"]
      }
    }
  }
}
```

## ­ЪЊі сѓесЃЕсЃ╝тѕєТъљТЕЪУЃй

### 1. CCLAсѓесЃ╝сѓИсѓДсЃ│сЃѕсЂФсѓѕсѓІУЄфтІЋтѕєТъљ

```bash
# CCLAсѓесЃ╝сѓИсѓДсЃ│сЃѕсЂ«УхитІЋ
node agents/ccla/index.js

# тѕєТъљухљТъюсЂ«уб║УфЇ
cat logs/ccla-analysis-$(date +%Y-%m-%d).json | jq '.insights'
```

### 2. сѓесЃЕсЃ╝сЃЉсѓ┐сЃ╝сЃ│сЂ«ТцютЄ║

```javascript
// сѓесЃЕсЃ╝сЃЉсѓ┐сЃ╝сЃ│УеГт«џ
{
  "errorPatterns": {
    "memoryLeak": {
      "indicators": [
        "JavaScript heap out of memory",
        "FATAL ERROR: Ineffective mark-compacts"
      ],
      "action": "restart",
      "priority": "high"
    },
    "apiLimit": {
      "indicators": [
        "rate limit exceeded",
        "429 Too Many Requests"
      ],
      "action": "backoff",
      "priority": "medium"
    }
  }
}
```

### 3. Та╣ТюгтјЪтЏатѕєТъљ

```bash
# сѓесЃЕсЃ╝сЂ«Та╣ТюгтјЪтЏасЃгсЃЮсЃ╝сЃѕ
npm run error:analyze --deep --issue 12345

# сЃѕсЃгсЃ│сЃЅтѕєТъљ
npm run analytics:trends errors --days 7
```

## ­ЪџЉ уиіТђЦТЎѓсЂ«т»ЙтЄдТ│Ћ

### 1. сѓисѓ╣сЃєсЃатЁеСйЊсЂїсЃђсѓдсЃ│сЂЌсЂЪта┤тљѕ

```bash
# 1. сЃЌсЃГсѓ╗сѓ╣сЂ«уб║УфЇ
ps aux | grep -E "(poppo|node)" | grep -v grep

# 2. сЃГсЃЃсѓ»сЃЋсѓАсѓцсЃФсЂ«сѓ»сЃфсѓб
rm -f state/.locks/*
rm -f state/poppo-*.lock

# 3. уа┤ТљЇсЂЌсЂЪуіХТЁІсЃЋсѓАсѓцсЃФсЂ«С┐«тЙЕ
cp state/running-tasks.json.backup state/running-tasks.json

# 4. сѓ╗сЃ╝сЃЋсЃбсЃ╝сЃЅсЂДУхитІЋ
SAFE_MODE=true npm start
```

### 2. уёАжЎљсЃФсЃ╝сЃЌсЂФжЎЦсЂБсЂЪта┤тљѕ

```bash
# 1. тЋЈжАїсЂ«сЃЌсЃГсѓ╗сѓ╣сѓњуЅ╣т«џ
top -p $(pgrep -f "PoppoBuilder")

# 2. т╝итѕХухѓС║є
kill -9 $(pgrep -f "PoppoBuilder-Main")

# 3. сЃЄсЃљсЃЃсѓ░сЃбсЃ╝сЃЅсЂДтєЇУхитІЋ
DEBUG=* npm start 2>&1 | tee debug.log
```

### 3. сЃЄсЃ╝сѓ┐уа┤ТљЇсЂ«тЙЕТЌД

```bash
# 1. сЃљсЃЃсѓ»сѓбсЃЃсЃЌсЂ«уб║УфЇ
ls -la backups/

# 2. ТюђТќ░сЂ«сЃљсЃЃсѓ»сѓбсЃЃсЃЌсЂІсѓЅтЙЕтЁЃ
npm run backup:restore latest

# 3. ТЋ┤тљѕТђДсЃЂсѓДсЃЃсѓ»
npm run integrity:check

# 4. жЃетѕєтЙЕТЌД№╝ѕуЅ╣т«џсЂ«сЃЋсѓАсѓцсЃФсЂ«сЂ┐№╝Ѕ
npm run backup:restore latest --only state/issue-status.json
```

## ­ЪЊЮ сѓесЃЕсЃ╝т»Йт┐юсЂ«сЃЎсѓ╣сЃѕсЃЌсЃЕсѓ»сЃєсѓБсѓ╣

### 1. сѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИсЂ«Тћ╣тќё

```javascript
// ТѓфсЂёСЙІ
throw new Error('Failed');

// УЅ»сЂёСЙІ
throw new Error(`Failed to process issue #${issueNumber}: ${reason}`, {
  cause: originalError,
  context: {
    issueNumber,
    repository: repo,
    attemptNumber: attempt
  }
});
```

### 2. сѓесЃЕсЃ╝сЂ«сѓФсЃєсѓ┤сЃЕсѓцсѓ║

```javascript
// сѓФсѓ╣сѓ┐сЃасѓесЃЕсЃ╝сѓ»сЃЕсѓ╣
class PoppoError extends Error {
  constructor(message, code, severity = 'error') {
    super(message);
    this.name = 'PoppoError';
    this.code = code;
    this.severity = severity;
    this.timestamp = new Date().toISOString();
  }
}

class RateLimitError extends PoppoError {
  constructor(resetTime) {
    super('Rate limit exceeded', 'RATE_LIMIT', 'warning');
    this.resetTime = resetTime;
  }
}
```

### 3. сѓесЃЕсЃ╝сЃГсѓ░сЂ«ТДІжђатїќ

```javascript
// ТДІжђатїќсЂЋсѓїсЂЪсѓесЃЕсЃ╝сЃГсѓ░
logger.error({
  message: 'Task execution failed',
  error: {
    name: error.name,
    message: error.message,
    stack: error.stack,
    code: error.code
  },
  context: {
    taskId,
    issueNumber,
    duration: Date.now() - startTime
  },
  metadata: {
    memoryUsage: process.memoryUsage(),
    systemLoad: os.loadavg()
  }
});
```

## ­ЪћЇ сЃЄсЃљсЃЃсѓ░сЃєсѓ»сЃІсЃЃсѓ»

### 1. УЕ│у┤░сЃГсѓ░сЂ«ТюЅті╣тїќ

```bash
# тЁесЃбсѓИсЃЦсЃ╝сЃФсЂ«сЃЄсЃљсЃЃсѓ░сЃГсѓ░
DEBUG=* npm start

# уЅ╣т«џсЃбсѓИсЃЦсЃ╝сЃФсЂ«сЂ┐
DEBUG=poppo:*,ccla:* npm start

# сЃГсѓ░сЃгсЃЎсЃФсЂ«тцЅТЏ┤
LOG_LEVEL=debug npm start
```

### 2. сЃќсЃгсЃ╝сѓ»сЃЮсѓцсЃ│сЃѕсЃЄсЃљсЃЃсѓ░

```bash
# Node.js сѓцсЃ│сѓ╣сЃџсѓ»сѓ┐сЃбсЃ╝сЃЅ
node --inspect-brk src/minimal-poppo.js

# Chrome DevToolsсЂДТјЦуХџ
# chrome://inspect
```

### 3. сЃЌсЃГсЃЋсѓАсѓцсЃфсЃ│сѓ░

```bash
# CPUсЃЌсЃГсЃЋсѓАсѓцсЃФ
node --prof src/minimal-poppo.js

# сЃЌсЃГсЃЋсѓАсѓцсЃФухљТъюсЂ«тѕєТъљ
node --prof-process isolate-*.log > profile.txt
```

## ­ЪЊџ сѓѕсЂЈсЂѓсѓІсѓесЃЕсЃ╝сЂет»ЙтЄдТ│Ћ

### сѓесЃЕсЃ╝: ENOENT

**тјЪтЏа**: сЃЋсѓАсѓцсЃФсЂїУдІсЂцсЂІсѓЅсЂфсЂё
```bash
# т»ЙтЄдТ│Ћ
# 1. т┐ЁУдЂсЂфсЃЄсѓБсЃгсѓ»сЃѕсЃфсѓњСйюТѕљ
mkdir -p logs state temp

# 2. ТеЕжЎљсѓњуб║УфЇ
ls -la logs/ state/
```

### сѓесЃЕсЃ╝: EACCES

**тјЪтЏа**: сѓбсѓ»сѓ╗сѓ╣ТеЕжЎљсЂфсЂЌ
```bash
# т»ЙтЄдТ│Ћ
# 1. ТЅђТюЅУђЁсѓњтцЅТЏ┤
sudo chown -R $USER:$USER .

# 2. ТеЕжЎљсѓњС┐«ТГБ
chmod -R 755 .
```

### сѓесЃЕсЃ╝: Rate limit exceeded

**тјЪтЏа**: APIтѕХжЎљсЂФтѕ░жЂћ
```javascript
// т»ЙтЄдТ│Ћ: config.jsonсЂДУф┐ТЋ┤
{
  "rateLimiter": {
    "github": {
      "maxRequests": 30,    // ТИЏсѓЅсЂЎ
      "windowMs": 60000     // жќЊжџћсѓњт║ЃсЂњсѓІ
    }
  }
}
```

### сѓесЃЕсЃ╝: JavaScript heap out of memory

**тјЪтЏа**: сЃАсЃбсЃфСИЇУХ│
```bash
# т»ЙтЄдТ│Ћ
# 1. сЃАсЃбсЃфтѕХжЎљсѓњтбЌсѓёсЂЎ
NODE_OPTIONS="--max-old-space-size=2048" npm start

# 2. СИдУАїт«ЪУАїТЋ░сѓњТИЏсѓЅсЂЎ
# config.jsonсЂД maxConcurrentTasks сѓњУф┐ТЋ┤
```

## ­Ъј» сЂЙсЂесѓЂ

ті╣ТъюуџёсЂфсѓесЃЕсЃ╝сЃЈсЃ│сЃЅсЃфсЃ│сѓ░сЂ«сЃЮсѓцсЃ│сЃѕ№╝џ

1. **С║ѕжў▓уџёт»ЙуГќ** - сѓесЃЕсЃ╝сЂїуЎ║ућЪсЂЎсѓІтЅЇсЂФТцюУе╝
2. **ТЌЕТюЪТцютЄ║** - сЃфсѓбсЃФсѓ┐сѓцсЃауЏБУдќсЂДу┤аТЌЕсЂЈуЎ║УдІ
3. **УЕ│у┤░сЂфУеўжї▓** - сѓ│сЃ│сЃєсѓГсѓ╣сЃѕТЃЁта▒сѓњтљФсѓђсЃГсѓ░
4. **УЄфтІЋтЏътЙЕ** - тЈ»УЃйсЂфжЎљсѓіУЄфтІЋуџёсЂФС┐«тЙЕ
5. **уХЎуХџуџёТћ╣тќё** - сѓесЃЕсЃ╝тѕєТъљсЂІсѓЅтГду┐њ

УЕ│у┤░сЂфТіђУАЊТЃЁта▒сЂ»[сѓесЃЕсЃ╝сЃЈсЃ│сЃЅсЃфсЃ│сѓ░С╗ЋТДўТЏИ](../error-handling.md)сѓњтЈѓуЁДсЂЌсЂдсЂЈсЂасЂЋсЂёсђѓ