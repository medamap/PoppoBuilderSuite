# プロセス管理ダッシュボードの検討事項

## 作成日: 2025/6/15
## ステータス: 要検討

## 背景
現在、Claudeプロセスのタイムアウトは24時間に設定されているが、長時間実行されるタスクの管理が必要。

## 提案機能

### 1. プロセス監視ダッシュボード
- 実行中のClaudeプロセス一覧表示
- 各プロセスの状態：
  - Issue番号
  - 開始時刻
  - 経過時間
  - メモリ使用量
  - CPU使用率
  - 最終出力

### 2. プロセス制御機能
- 手動キャンセル機能
- 一時停止/再開（将来的に）
- プロセス優先度の変更

### 3. 実装方法の候補

#### Option A: Webベースダッシュボード
```
PoppoBuilderSuite/
├── dashboard/
│   ├── server.js      # Express サーバー
│   ├── public/        # フロントエンド
│   └── api/          # REST API
```

#### Option B: CLIベースモニター
```bash
poppo status          # 実行中プロセス一覧
poppo kill <task-id>  # プロセス停止
poppo logs <task-id>  # ログ表示
```

### 4. データ管理
```javascript
// プロセス情報の保存
{
  "processes": {
    "issue-1": {
      "pid": 12345,
      "startTime": "2025-06-15T01:00:00Z",
      "status": "running",
      "lastOutput": "テスト実行中...",
      "metrics": {
        "cpu": 45.2,
        "memory": 256
      }
    }
  }
}
```

### 5. 段階的実装計画

#### Phase 1: 基本的なプロセス情報記録
- プロセス開始/終了の記録
- 状態ファイルへの保存

#### Phase 2: CLI モニター
- `poppo status` コマンド
- 基本的なプロセス制御

#### Phase 3: Webダッシュボード
- リアルタイム監視
- グラフィカルな表示
- 複数プロジェクト対応

## メリット
- 長時間タスクの可視化
- 異常なプロセスの早期発見
- システムリソースの最適化
- デバッグの容易化

## 考慮事項
- セキュリティ（誰がプロセスを停止できるか）
- パフォーマンスへの影響
- ログの保持期間
- エラー時の自動リトライとの兼ね合い

## 関連項目
- [高度な要求定義](../requirements/advanced-requirements.md) - マルチプロジェクト管理
- [トレーサビリティ要求](../requirements/traceability-requirements.md) - 実行履歴の追跡